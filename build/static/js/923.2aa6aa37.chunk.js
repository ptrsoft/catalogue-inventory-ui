(self.webpackChunkrasilabs=self.webpackChunkrasilabs||[]).push([[923],{2792:(e,s,a)=>{"use strict";a.d(s,{ac:()=>r,rt:()=>t});const t={vegan:"vegan",non_vegan:"non_vegan"},r={APPROVED:"Approved",UNDER_REVIEW:"Under Review",REJECTED:"Rejected",PENDING:"Pending",DELETED:"Deleted",FAVOURITE_CUSTOMER:"Favourite Customer",NEW_CUSTOMER:"New Customer"}},6175:(e,s,a)=>{"use strict";a.d(s,{aH:()=>o,mg:()=>l});var t=a(6446),r=a(1637),i=(a(1036),a(579));const l={EMAIL_REGEX:/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,PASSWORD_REGEX:/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/,MOBILE_NUMBER_REGEX:/^\d{10}$/,NUMBER_ONLY_REGEX:/^[0-9]+$/,DECIMAL_ALLOW_REGEX:/^\d*\.?\d*$/,ONLY_TWO_DECIMAL_ALLOW_REGEX:/^(?:\d*\.\d{1,2}|\d+)$/,type:{MANDATORY:0,REGEX:1,CHARACTERCOUNT:2},validate:(e,s)=>{function a(e,s){return s&&""!==s?{isValid:!0,error:{isValid:!0,message:""}}:{isValid:!1,error:{isValid:!1,message:e.message}}}function t(e,s){return s&&s.length!==e.CharacterCout?{isValid:!1,error:{isValid:!1,message:e.message}}:{isValid:!0,error:{isValid:!0,message:""}}}function r(e,s){return e.regex&&!e.regex.test(s)?{isValid:!1,error:{isValid:!1,message:e.message}}:{isValid:!0,error:{isValid:!0,message:""}}}const i=Object.keys(s),o={};let d,n=!0;return i.forEach((i=>{const c=e[i],u=s[i];for(const e of c)if(e.type===l.type.MANDATORY?d=a(e,u):e.type===l.type.CHARACTERCOUNT?d=t(e,u):e.type===l.type.REGEX&&(d=r(e,u)),o[i]=d.error,n=n&&d.isValid,!d.isValid)break})),o.isValid=n,o}},o={commonLoader:()=>(0,i.jsx)(t.A,{className:"d-flex align-items-center justify-content-center common-loader",children:(0,i.jsx)(r.A,{})})}},1093:()=>{},3610:()=>{},3923:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>L});var t=a(5043),r=a(1906),i=a(6446),l=a(3003),o=a(5719),d=a(5163),n=a(6175),c=a(1093),u=a.n(c),m=a(5475),h=a(3610),p=a.n(h),C=a(2792),E=a(579);const g=[{field:"customer_name",headerName:"Customer Name",width:150,renderCell:e=>(0,E.jsx)(m.N_,{to:e.value,children:e.value})},{field:"email",headerName:"Email",width:180,renderCell:e=>e.value},{field:"shipping_address",headerName:"Shipping Address",width:250,renderCell:e=>e.value},{field:"added_by",headerName:"Added By",width:130,renderCell:e=>e.value},{field:"added_on",headerName:"Added On",width:180,renderCell:e=>e.value},{field:"last_order",headerName:"Last Order",width:180,renderCell:e=>e.value},{field:"actions",headerName:"Actions",width:240,renderCell:e=>(0,E.jsxs)("div",{className:"table-btns",children:[(0,E.jsxs)(r.A,{className:"primary-outline",variant:"primary",children:["View More ",e.value]}),(0,E.jsx)(r.A,{className:"primary",variant:"primary",children:"Create Quotes"})]})}];let{FAVOURITE_CUSTOMER:v,NEW_CUSTOMER:_}=C.ac;const N=[{label:"All"},{label:v},{label:_}];class w extends t.Component{constructor(e){super(e),this.componentDidMount=()=>{this.props.fetchCustomers()},this.state={customersData:[],selectedFilters:[],paginationDetails:{pageSize:10,page:0}}}componentDidUpdate(e,s){var a,t;e.customers.status!==this.props.customers.status&&this.props.customers.status===o.A.SUCCESS&&null!==(a=this.props.customers)&&void 0!==a&&a.data&&this.manipulationData((null===(t=this.props.customers)||void 0===t?void 0:t.data.customers)||[])}manipulationData(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,{customersData:t,selectedFilters:r}=this.state;if(t=[],null!==e&&void 0!==e&&e.length){let i=JSON.parse(JSON.stringify(e));s&&(i=e.filter((e=>!!(null!==e&&void 0!==e&&e.customer_name.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.added_by.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.added_on.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.email.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.last_order.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.shipping_address.toLowerCase().includes(s.toLowerCase()))||null))),a?i=i.filter((e=>r.includes(e.status.toLowerCase().replace(" ","_")))):r=[],i.forEach((e=>{var s,a;t.push({...e,statusClass:null===e||void 0===e||null===(s=e.status)||void 0===s||null===(a=s.toLowerCase())||void 0===a?void 0:a.replace(" ","_")})}))}this.setState({customersData:t,searchData:s,selectedFilters:r})}render(){const{customersData:e,paginationDetails:{page:s,pageSize:a},searchData:t,selectedFilters:r}=this.state,l=s*a+1,d=s*a+a;return(0,E.jsx)(i.A,{className:"main-container",children:(0,E.jsxs)(i.A,{className:"qutations-container",children:[(0,E.jsx)(p(),{details:{header:"Customers",filterLabel:"",exportCsv:"Export as CSV",importCsv:"Import",isOnlySearchVisible:!1,btnLabel:"Customers",dataLength:e.length,searchData:t,dataRange:e.length?(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("strong",{children:[l," -",d]})}):0,filter:{label:"Filters",data:N,header:"Status",selectedFilters:r}},handleSearch:e=>{var s;this.manipulationData((null===(s=this.props.customers)||void 0===s?void 0:s.data.customers)||[],e)},handleFilters:(e,s)=>{let{selectedFilters:a}=this.state;s?a=s:a.includes(e)?a="all"===e?[]:a.filter((s=>![e,"all"].includes(s))):"all"===e?a=N.map((e=>e.label.toLowerCase().replace(" ","_"))):a.push(e),console.log(a,s),this.setState({selectedFilters:a})},applyOrCancelFilter:e=>{var s;this.manipulationData((null===(s=this.props.quotations)||void 0===s?void 0:s.data.quotations)||[],t,e?1:0)}}),this.props.customers.status===o.A.IN_PROGRESS?n.aH.commonLoader():(0,E.jsx)(u(),{details:{paginationDetails:{page:s,pageSize:a},pagSize:10,data:e,columns:g,checkboxSelection:!0},handlePageChange:e=>{this.setState({paginationDetails:e})}})]})})}}const A={fetchCustomers:d.g},L=(0,l.Ng)((function(e){const{customers:s}=e.customers;return{customers:s}}),A)(w)}}]);
//# sourceMappingURL=923.2aa6aa37.chunk.js.map